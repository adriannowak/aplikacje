---
title: SQL
layout: post
---

##  Import/Export danych do bazy MySQL


Zapisywanie kopii bazy danych:

 - `mysqldump.exe -u root -p -x -r DANE.SQL BAZA`
 
Przywracanie kopii:
 - logujemy sie na mysql i wykonujemy `CREATE DATABASE BAZA`
 - `mysql -u root -p BAZA < DANE.SQL`
 

Zadanie 1

Przywróć bazę danych - baza firma
https://gist.github.com/adriannowak/fe91b9d3e93b0ba0d92edb230cb67431

Zadanie 2

Wprowadz dane 3 osob:
```
    8, James, NULL, Wilsom, M, 1987-03-19, 1000, 3, 2013-10-09, 2014-03-01, 1
    9, Robert, NULL, Anderson, M, 1989-12-13, 2900, 2, 2013-12-20, 2014-05-05, 0
    10, John, Mark, Smith, M, 1990-05-24, 2500, 1, 2014-01-24, NULL, 1
```

## Naprawa bazy danych

Polecenie `mysqlcheck.exe NAZWA_BAZY`
 
 -- optimize
 
 -- repair
 
 -- check
 
 
## Polecenia administratora
```
CREATE USER 'ezn_select'@'localhost' IDENTIFIED BY 'ezn123';
```

```
GRANT SELECT ON ezn_123.* TO 'ezn_select'@'localhost';
```

## Polecenie SELECT
 
  - SELECT [*, column, DISTINCT column]
  - FROM
  - WHERE
  - Kolumny wyliczeniowe
  
Operatory porównania =, >, <, >=, <=, !=, <>, is [true,false,null], BETWEEN (liczby, daty), IN (liczby, tekst)
LIKE (%, _), DISTINCT,

```
SELECT * FROM employee;
SELECT FirstName, LastName FROM employee;

SELECT * FROM employee WHERE Salary >= 2500;

SELECT * FROM employee WHERE DepartmentId = 3
SELECT * FROM employee WHERE (Salary = 1000 OR Salary = 2000) AND DepartmentId = 4;
SELECT * FROM employee WHERE Active != 1; -- IS FALSE
SELECT *, Salary + 100 as "Pencja po podwyzce" FROM employee;
SELECT *, Salary * 1.1 as "po podwyzce" from employee;
SELECT FirstName, Salary*1.1 From employee WHERE Salary*1.1 >= 2500;
SELECT * FROM employee WHERE Gender = 'W' AND BirthDate >= '1990-01-01' AND Salary <= 2000;

SELECT * FROM employee WHERE Gender = 'M' AND Salary >1000 AND Salary < 2000;

SELECT * FROM employee WHERE Gender = 'M' AND Salary BETWEEN 1000 AND 2000;
SELECT * FROM employee WHERE HireDate BETWEEN '2012-01-01' AND '2013-12-30';

SELECT * FROM employee WHERE Salary < 1000 OR Salary > 2000;

SELECT * FROM employee WHERE Salary NOT BETWEEN 1000 AND 2000

SELECT * FROM employee WHERE Id = 1 OR Id = 2 OR Id = 3;
SELECT * FROM employee WHERE Id BETWEEN 1 AND 3;
SELECT * FROM employee WHERE Id IN (1,2,3);

SELECT * FROM employee WHERE Id <> 1 AND Id <> 2 AND Id <> 3;
SELECT * FROM employee WHERE Id NOT BETWEEN 1 AND 3;
SELECT * FROM employee WHERE Id NOT IN (1,2,3);

SELECT * FROM employee WHERE FirstName = 'John' and Salary > 1500;



SELECT * FROM employee WHERE FirstName = 'John' OR FistName = 'Linda';
SELECT * FROM employee WHERE FirstName IN ('John','Linda');

 SELECT * FROM employee WHERE FirstName LIKE 'J%';
SELECT * FROM employee WHERE FirstName LIKE  '_a%';

SELECT * FROM employee ORDER BY LastName, FirstName

SELECT * FROM employee ORDER BY LastName DESC, FirstName DESC

SELECT * FROM employee ORDER BY Salary DESC;

SELECT * FROM employee ORDER BY Salary DESC LIMIT 3
```


